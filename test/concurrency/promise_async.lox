namespace test.concurrency;
using clox.std.io.File;

async fun readFileAsync(url){ 
    val fileReader = await File.openAsync(url, "r");
    print("Successfully opened: ");
    println(fileReader);
    println("Now reading the entire file: ");
    println("");

    val text = await fileReader.readToEndAsync();
    println(text);
    println("");
    println("Closing read stream for file.");
    
    await fileReader.closeAsync();
    println("Read stream has been closed.");
}

println("Start reading file...\n");
await readFileAsync("test/others/file_input.txt");
println("\nFinished reading file...");